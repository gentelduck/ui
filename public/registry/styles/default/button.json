{
  "name": "button",
  "dependencies": [
    "@radix-ui/react-slot",
    "Command",
    "Tooltip"
  ],
  "registryDependencies": [
    "dialog"
  ],
  "files": [
    {
      "name": "button.tsx",
      "content": "import React from 'react'\n\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\nimport { Slot } from '@radix-ui/react-slot'\nimport { Tooltip, TooltipContent, TooltipTrigger } from './tooltip'\nimport { Badge } from './badge'\nimport { CommandShortcut } from './command'\n\nimport { cn } from '@/lib'\nimport { cva } from 'class-variance-authority'\nimport { VariantProps } from 'class-variance-authority'\nimport { Loader } from 'lucide-react'\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n  isCollapsed?: boolean\n  icon?: React.ReactElement\n  secondIcon?: React.ReactElement\n  label?: LabelType\n  route?: string\n  command?: CommandType\n  delayDuration?: number\n  loading?: boolean\n}\n\nexport interface LabelType extends Partial<React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>> {\n  showLabel?: boolean\n  type?: 'notification' | 'default'\n}\n\nexport type CommandType = {\n  label?: string\n  key: string\n  state?: unknown\n  action?: <T>(arg?: T) => void\n}\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline: 'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10 p-0',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n)\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      asChild,\n      isCollapsed = false,\n      size = 'default',\n      variant = 'default',\n      heading: title,\n      className,\n      label,\n      children,\n      icon: Icon,\n      secondIcon: SecondIcon,\n      delayDuration = 0,\n      loading = false,\n      command,\n      ...props\n    }: ButtonProps,\n    ref: React.ForwardedRef<HTMLButtonElement> | undefined\n  ) => {\n    const { className: labelClassName, type = 'default', showLabel, ...labelProps } = label || {}\n    const Component = asChild ? Slot : 'button'\n\n    // Handle keyboard shortcuts\n    React.useEffect(() => {\n      if (command?.key) {\n        const handleKeyDown = (e: KeyboardEvent) => {\n          if (e.key === command.key && (e.metaKey || e.ctrlKey)) {\n            e.preventDefault()\n            command.action && command.action()\n          }\n        }\n\n        document.addEventListener('keydown', handleKeyDown)\n        return () => document.removeEventListener('keydown', handleKeyDown)\n      }\n    }, [command?.state])\n\n    // Handle keyboard shortcut Badge\n    const CommandComponent = () => (\n      <CommandShortcut className=\"text-[.8rem]\">\n        <Badge\n          variant={'secondary'}\n          size={'sm'}\n          className=\"p-0 px-2\"\n        >\n          {command?.label}\n        </Badge>\n      </CommandShortcut>\n    )\n\n    return (\n      <Tooltip delayDuration={delayDuration}>\n        <TooltipTrigger asChild>\n          <Component\n            ref={ref}\n            className={cn(\n              buttonVariants({\n                variant: variant || 'ghost',\n                size: size ? (isCollapsed ? 'icon' : size) : isCollapsed ? 'icon' : 'default',\n                className: cn(!isCollapsed && 'flex items-center gap-2', 'relative justify-center', className),\n              })\n            )}\n            disabled={loading}\n            {...props}\n          >\n            <div className=\"flex items-center gap-2\">\n              {!loading ? (\n                Icon && <span className=\"[&_svg]:size-[1.18rem]\">{!!Icon && !loading && Icon} </span>\n              ) : (\n                <Loader className=\"size-[1.18rem] animate-spin\" />\n              )}\n              {!isCollapsed && (children || title)}\n            </div>\n            {!isCollapsed && command?.label && <CommandComponent />}\n\n            {!isCollapsed &&\n              label &&\n              !label?.showLabel &&\n              (type == 'default' ? (\n                <span\n                  className={cn('ml-2 text-[.9rem]', labelClassName)}\n                  {...labelProps}\n                >\n                  {label.children as unknown as React.ReactNode}\n                </span>\n              ) : (\n                <Badge\n                  variant={'outline'}\n                  size={'icon'}\n                  className={cn('size-5 text-[.6rem] absolute top-0 right-0', labelClassName)}\n                  {...labelProps}\n                >\n                  {label?.children}\n                </Badge>\n              ))}\n            {!isCollapsed && !loading && SecondIcon}\n          </Component>\n        </TooltipTrigger>\n        {(isCollapsed || label?.showLabel) && (title || label) && (\n          <TooltipContent\n            {...label}\n            className={cn('flex items-center gap-4 z-50 justify-start', label?.className)}\n            side={label?.side || 'right'}\n          >\n            {title && (title as unknown as React.ReactNode)}\n            {command?.label && <CommandComponent />}\n            {label && (\n              <span className={cn('ml-auto text-[.9rem]', !label.showLabel && 'text-muted-foreground')}>\n                {label.children as unknown as React.ReactNode}\n              </span>\n            )}\n          </TooltipContent>\n        )}\n      </Tooltip>\n    )\n  }\n)\nButton.displayName = 'Button'\n\nexport { Button, buttonVariants }\n"
    }
  ],
  "type": "components:ui"
}