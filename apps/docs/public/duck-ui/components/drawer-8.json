{
  "name": "drawer-8",
  "type": "registry:example",
  "registryDependencies": [
    "drawer"
  ],
  "root_folder": "drawer",
  "files": [
    {
      "path": "drawer/drawer-8.tsx",
      "content": "'use client'\n\nimport * as React from 'react'\nimport {\n  Drawer,\n  DrawerClose,\n  DrawerContent,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerTrigger,\n} from '@gentleduck/registry-ui-duckui/drawer'\nimport { Button } from '@gentleduck/registry-ui-duckui/button'\nimport { Badge } from '@gentleduck/registry-ui-duckui/badge'\nimport { cn } from '@gentleduck/libs/cn'\nimport { motion } from 'motion/react'\nimport { AnimateNumber } from 'motion-number'\nimport { toast } from 'sonner'\nimport { Separator } from '@gentleduck/registry-ui-duckui/separator'\n\nexport default function DrawerDemo8() {\n  const [open, setOpen] = React.useState(false)\n  const [progress, setProgress] = React.useState(0)\n  const barCount = 37\n  const filledBars = Math.floor((progress / 100) * barCount)\n  const autoIncrement = true\n\n  React.useEffect(() => {\n    if (autoIncrement && progress < 100) {\n      const timer = setInterval(() => {\n        setProgress((prev) => Math.min(prev + 1, 100))\n      }, 50)\n      return () => clearInterval(timer)\n    }\n  }, [progress, autoIncrement])\n\n  const getBarColor = (index: number) => {\n    const progress = (index / barCount) * 100\n    if (progress <= 15) return 'bg-red-500'\n    if (progress <= 40) return 'bg-orange-500'\n    if (progress <= 65) return 'bg-yellow-500'\n    if (progress <= 90) return 'bg-lime-500'\n    return 'bg-green-500'\n  }\n  // Calculate badge color based on progress\n  const getBadgeColor = (progress: number) => {\n    if (progress <= 15) return 'bg-red-500'\n    if (progress <= 40) return 'bg-orange-500'\n    if (progress <= 65) return 'bg-yellow-500'\n    if (progress <= 95) return 'bg-lime-500'\n    return 'bg-green-500'\n  }\n  console.log(open)\n  return (\n    <Drawer fixed={true} shouldScaleBackground={false}>\n      <DrawerTrigger asChild>\n        <Button variant='outline' className='mt-20'>\n          Hard Checklist\n        </Button>\n      </DrawerTrigger>\n      <DrawerContent className='max-w-xs mx-auto after:hidden mb-8 rounded-xl overflow-hidden'>\n        <div\n          className={cn(\n            'p-4 mx-auto w-full max-w-sm pt-2 overflow-hidden parent',\n            open && 'parent2',\n          )}\n        >\n          <DuckTransition1 className={cn(open && 'one2')}>\n            <HI\n              barCount={barCount}\n              filledBars={filledBars}\n              progress={progress}\n              getBadgeColor={getBadgeColor}\n              getBarColor={getBarColor}\n              setOpen={setOpen}\n              setProgress={setProgress}\n            />\n          </DuckTransition1>\n          <DuckTransition2 className={cn(open && 'two2')}>\n            <HI2 setOpen={setOpen} />\n          </DuckTransition2>\n        </div>\n      </DrawerContent>\n    </Drawer>\n  )\n}\n\nexport interface DuckTransitionProps\n  extends React.HTMLAttributes<HTMLDivElement> {}\n\nexport function DuckTransition1({\n  className,\n  children,\n  ...props\n}: DuckTransitionProps) {\n  return (\n    <div\n      className={cn(\n        // 'ease-[linear(0,_0.001_0.4%,_0.007_0.9%,_0.016_1.4%,_0.028_1.9%,_0.065_3%,_0.114_4.1%,_0.165_5.1%,_0.228_6.2%,_0.504_10.7%,_0.62_12.7%,_0.734_14.9%,_0.827_17%,_0.865_18%,_0.902_19.1%,_0.934_20.2%,_0.963_21.3%,_0.987_22.4%,_1.009_23.6%,_1.026_24.8%,_1.04_26%,_1.051_27.4%,_1.059_28.9%,_1.064_30.5%,_1.064_32.2%,_1.062_34%,_1.056_36.1%,_1.026_44.1%,_1.013_47.9%,_1.004_51.8%,_0.999_55.9%,_0.996_63.9%,_1_83.2%,_1)] p-4 flex flex-col gap-2 bg-background overflow-hidden',\n        'one',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  )\n}\n\nexport function DuckTransition2({\n  className,\n  children,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div className={cn('two', className)} {...props}>\n      {children}\n    </div>\n  )\n}\n\nexport function HI(props: {\n  progress: number\n  filledBars: number\n  barCount: number\n  getBadgeColor: (progress: number) => string\n  getBarColor: (index: number) => string\n  setProgress: React.Dispatch<React.SetStateAction<number>>\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n}) {\n  const {\n    progress,\n    getBadgeColor,\n    barCount,\n    filledBars,\n    getBarColor,\n    setOpen,\n    setProgress,\n  } = props\n\n  return (\n    <>\n      <div className='flex items-center justify-between'>\n        <DrawerTitle className='text-md'>Almost there.</DrawerTitle>\n        <Badge\n          variant='destructive'\n          className={`rounded-lg will-change-auto w-[50px] transition-colors duration-300 ${getBadgeColor(progress)}`}\n        >\n          <AnimateNumber\n            format={{ style: 'decimal', notation: 'standard' }}\n            prefix='%'\n            // animate={{ backgroundClip: 'text' }}\n          >\n            {progress}\n          </AnimateNumber>\n        </Badge>\n      </div>\n      <DrawerDescription>\n        Complete the remaining steps in the checklist before going live.\n      </DrawerDescription>\n      <div className='flex justify-between w-full'>\n        {[...Array(barCount)].map((_, index) => (\n          <motion.div\n            key={index}\n            initial={{ height: '1rem' }}\n            animate={{\n              height: '1.5rem',\n              scale: index < filledBars ? [1, 1.1, 1] : 1,\n            }}\n            transition={{ duration: 0.5, delay: index * 0.008 }}\n            className={`w-[5px] h-[1rem] rounded-full transition-colors duration-300 ${\n              index < filledBars ? getBarColor(index) : 'bg-gray-200'\n            }`}\n          />\n        ))}\n      </div>\n\n      <DrawerFooter className='px-0 pb-0'>\n        <Button\n          variant='secondary'\n          onClick={() => {\n            console.info('hi, i was clicked!!')\n            setOpen((prev) => !prev)\n          }}\n        >\n          See checklist\n        </Button>\n        <DrawerClose asChild>\n          <Button\n            variant='secondary'\n            disabled={progress < 100}\n            className={cn(\n              progress === 100 &&\n                'bg-green-500 text-white hover:bg-green-500/90',\n            )}\n            loading={progress < 100}\n            onClick={() => {\n              setProgress(0)\n              toast.success('Wow duck you are done!')\n            }}\n          >\n            {progress === 100\n              ? 'Complete the checklist'\n              : 'Loading to checklist'}\n          </Button>\n        </DrawerClose>\n      </DrawerFooter>\n    </>\n  )\n}\n\nexport function HI2(props: {\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n}) {\n  const { setOpen } = props\n  return (\n    <>\n      <DrawerTitle className='text-md'>Checklist</DrawerTitle>\n      <Separator />\n      <ul className='flex flex-col gap-3'>\n        {[\n          {\n            title: 'Plan the project',\n            description: 'Outline key milestones and deliverables.',\n          },\n          {\n            title: 'Gather resources',\n            description: 'Collect necessary tools, assets, and information.',\n          },\n          {\n            title: 'Start development',\n            description: 'Begin coding and implementing core features.',\n          },\n          {\n            title: 'Testing phase',\n            description:\n              'Perform debugging, QA, and performance optimizations.',\n          },\n          {\n            title: 'Launch & review',\n            description:\n              'Deploy the project and gather feedback for improvements.',\n          },\n        ].map((task, index) => (\n          <li key={index} className='flex items-start gap-3'>\n            <input\n              type='checkbox'\n              className='w-4 h-4 mt-1 accent-green-500'\n              id={`todo-${index}`}\n            />\n            <div>\n              <label\n                htmlFor={`todo-${index}`}\n                className='text-md font-semibold block'\n              >\n                {task.title}\n              </label>\n              <p className='text-sm text-muted-foreground'>\n                {task.description}\n              </p>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <Button\n        variant='secondary'\n        onClick={() => {\n          setOpen(!open)\n        }}\n      >\n        See checklist\n      </Button>\n    </>\n  )\n}\n",
      "type": "registry:example",
      "target": "components/drawer-8.tsx"
    }
  ],
  "source": "/registry-examples-duckui/src/drawer"
}
